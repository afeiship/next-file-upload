/*!
 * name: @jswork/next-file-upload
 * description: Simple xhr for file upload.
 * homepage: https://github.com/afeiship/next-file-upload
 * version: 1.0.0
 * date: 2020-11-22 16:38:27
 * license: MIT
 */
!function(){var r=(this||window||Function("return this")()).nx||require("@jswork/next"),u={method:"POST"};r.fileUpload=function(e,n,t){var o=new XMLHttpRequest,i=new FormData,t=r.mix(u,t);return r.each(n,function(e,n){i.append(e,n)}),o.withCredentials=t.withCredentials||!1,o.open(t.method,e,!0),r.each(t.headers,function(e,n){o.setRequestHeader(e,n)}),o.send(i),new Promise(function(e,n){o.onload=function(){200===o.status?e(o.response):n(o)},o.onerror=function(){n(o)}})},"undefined"!=typeof module&&module.exports&&(module.exports=r.fileUpload)}();