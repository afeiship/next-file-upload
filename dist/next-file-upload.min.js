/*!
 * name: @feizheng/next-file-upload
 * description: Simple xhr for file upload.
 * url: https://github.com/afeiship/next-file-upload
 * version: 1.0.0
 * date: 2020-02-17 17:31:24
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),u=e.nx||require("@feizheng/next-js-core2"),d={method:"POST"};u.fileUpload=function(e,n,t){var o=new XMLHttpRequest,i=new FormData,r=u.mix(d,t);return u.each(n,function(e,n){i.append(e,n)}),o.withCredentials=r.withCredentials||!1,o.open(r.method,e,!0),u.each(r.headers,function(e,n){o.setRequestHeader(e,n)}),o.send(i),new Promise(function(e,n){o.onload=function(){200===o.status?e(o.response):n(o)},o.onerror=function(){n(o)}})},"undefined"!=typeof module&&module.exports&&(module.exports=u.fileUpload)}();